{% extends "base.html" %}
{% block title %}Run Results — {{ problem.title }}{% endblock %}

{% block content %}
<div class="card">
  <h2>Run Results (Not Submitted)</h2>
  <p><strong>Problem:</strong> {{ problem.title }}</p>
  <p><strong>Language:</strong> {{ language }}</p>
  <p><strong>Verdict:</strong> {{ verdict }}</p>

  <h3>Code:</h3>
  <pre style="background:#272822;color:#fff;padding:1rem;border-radius:6px;overflow-x:auto;">{{ code }}</pre>

  <h3>Sample Test Case Results:</h3>
  {% if results %}
  <table border="1" cellpadding="6" cellspacing="0" style="border-collapse:collapse;width:100%;">
    <thead>
      <tr>
        <th>#</th>
        <th>Input</th>
        <th>Expected Output</th>
        <th>User Output</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for r in results %}
      <tr class="{% if r.passed %}passed{% else %}failed{% endif %}">
        <td>{{ forloop.counter }}</td>
        <td><pre>{{ r.test_case.input_data }}</pre></td>
        <td><pre>{{ r.test_case.output_data }}</pre></td>
        <td><pre>{{ r.user_output }}</pre></td>
        <td>{% if r.passed %}✅ Passed{% else %}❌ Failed{% endif %}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No sample tests found.</p>
  {% endif %}

  <div style="margin-top:1rem;">
    <a class="btn" href="{% url 'problem_detail' problem.id %}">⬅ Back to Problem</a>
  </div>
</div>
{% endblock %}
